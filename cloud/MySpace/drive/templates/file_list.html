{% extends 'base.html' %}
{% load static %}
{% block content %}

<link rel="stylesheet" href="{% static 'home.css' %}">

<style>
    /* Base layout */
body {
    font-family: Arial, sans-serif;
    background-color: #f4f4f9;
    margin: 0;
    display: flex;
    height: 100vh;
}

.container {
    display: flex;
    width: 100%;
}

/* Sidebar styling */
.sidebar {
    width: 250px;
    background-color: #202124;
    color: #ffffff;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.sidebar h2 {
    color: #4285f4;
}

.sidebar nav a {
    color: #ffffff;
    text-decoration: none;
    margin: 10px 0;
    display: block;
}

.sidebar nav a:hover {
    color: #4285f4;
}

/* Main content styling */
.main-content {
    flex: 1;
    padding: 20px;
    background-color: #ffffff;
    overflow-y: auto;
}

/* Dashboard styling */
.dashboard {
    max-width: 900px;
    margin: 0 auto;
}

.dashboard h1, .dashboard h2 {
    color: #333333;
}

/* Sections for activity and suggested folders */
.activity, .suggested-folders {
    margin-bottom: 30px;
    background-color: #f9f9f9;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.activity ul {
    list-style-type: none;
    padding: 0;
}

.activity li {
    margin-bottom: 10px;
    font-size: 14px;
}

.activity-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}

.activity-table th, .activity-table td {
    padding: 10px;
    text-align: left;
    border-bottom: 1px solid #ddd;
}

.activity-table th {
    background-color: #f4f4f4;
    font-weight: bold;
}

.activity-table td {
    color: #555;
}


.suggested-folders .folders {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}

.folder {
    background-color: #e8eaed;
    padding: 20px;
    border-radius: 8px;
    width: 150px;
    text-align: center;
    font-weight: bold;
    color: #5f6368;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.folder:hover {
    background-color: #c6c8cb;
    color: #333;
}

</style>


<div class="dashboard">
    <h1>Welcome to MySpace</h1>
    
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        
        h1, h2, h3 {
            color: #333;
        }
        
        form, ul {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        input[type="text"], input[type="password"], input[type="file"] {
            width: 100%;
            padding: 8px;
            margin: 8px 0;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        
        button {
            background-color: #5cb85c;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        button:hover {
            background-color: #4cae4c;
        }
    </style>


    <h2>Your Files and Folders</h2>

    <!-- Folders Section -->

    <h3>Folders</h3>
<ul>
    {% for folder in folders %}
        <li><a href="{% url 'folder_contents' folder_name=folder.name  %}">{{ folder.name }}</a></li>
    {% endfor %}
</ul>


    <!-- Form to Create Folder -->
    <form method="post" action="{% url 'create_folder' %}">
        {% csrf_token %}
        <button type="submit">Create Folder</button>
    </form>
    
    <!-- Files Section -->
    <h3>Your Files</h3>

    <!-- File Type Filter -->
    <label for="file-type">Filter by type:</label>
    <select id="file-type" name="file_type" onchange="filterFiles()">
        <option value="all">All</option>
        <option value=".zip">ZIP</option>
        <option value=".rar">RAR</option>
        <option value=".jpg">JPG</option>
        <option value=".pdf">PDF</option>
    </select>

    <ul id="file-list">
        {% for file in files %}
            <li data-filetype="{{ file.file.name|slice:"-4:" }}">
                <a href="{{ file.file.url }}">{{ file.file.name }}</a> ({{ file.get_category_display }})
            </li>
        {% empty %}
            <li>No files found.</li>
        {% endfor %}
    </ul>

</div>

<script>
    function filterFiles() {
        const fileType = document.getElementById("file-type").value;
        const files = document.getElementById("file-list").children;
        Array.from(files).forEach(file => {
            if (fileType === 'all' || file.dataset.filetype === fileType) {
                file.style.display = '';
            } else {
                file.style.display = 'none';
            }
        });
    }
</script>

{% endblock %}
