{% extends "base.html" %}

{% block content %}
  <h1>Search Students</h1>
  <form method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Search</button>
  </form>
  {% if transcript %}
    <h2>Transcript for {{ transcript.student.name }}</h2>
    <table>
      <thead>
        <tr>
          <th>Course Name</th>
          <th>Grade</th>
        </tr>
      </thead>
      <tbody>
        {% for grade in transcript %}
          <tr>
            <td>{{ grade.course.name }}</td>
            <td>{{ grade.grade }}</td>
          </tr>
        {% empty %}
          <tr>
            <td colspan="2">No grades found.</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
    {% if courses %}
      <h3>Available Courses</h3>
      <ul>
        {% for course in courses %}
          <li>{{ course.name }}</li>
        {% empty %}
          <li>No courses found.</li>
        {% endfor %}
      </ul>
    {% endif %}
  {% endif %}
{% endblock %}